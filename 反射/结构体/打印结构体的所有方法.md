# 1 æ€ä¹ˆæ‰“å°è¿™ä¸ªç»“æ„ä½“ä¸­æ‰€æœ‰çš„æ–¹æ³•

è¦æ‰“å° `Cat` ç»“æ„ä½“ä¸­æ‰€æœ‰çš„æ–¹æ³•ï¼Œä½ éœ€è¦ä½¿ç”¨ `reflect` åŒ…ã€‚é¦–å…ˆï¼Œé€šè¿‡ `reflect.TypeOf()` è·å– `Cat` ç±»å‹çš„åå°„ç±»å‹å¯¹è±¡ã€‚ç„¶åï¼Œä½¿ç”¨ `.NumMethod()` è·å–æ–¹æ³•æ•°é‡ï¼Œä½¿ç”¨ `.Method(i)` éå†æ–¹æ³•ã€‚å¯¹äºç»“æ„ä½“æŒ‡é’ˆå’Œç»“æ„ä½“å®ä¾‹ï¼Œåå°„è§†ä¸ºä¸åŒçš„ç±»å‹ï¼Œå®ƒä»¬å¯èƒ½æœ‰ä¸åŒçš„æ–¹æ³•é›†ã€‚å› æ­¤ï¼Œè¦è·å–æ‰€æœ‰æ–¹æ³•ï¼Œä½ å¯èƒ½éœ€è¦å¯¹ `Cat` å’Œ `*Cat` ç±»å‹éƒ½è¿›è¡Œæ“ä½œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š

```go
package main

import (
	"fmt"
	"reflect"
)

type Cat struct {
	Name string
	Age  int
}

func (obj *Cat) ShowName() {
	fmt.Println(obj.Name)
}

func (obj Cat) ShowAge() {
	fmt.Println(obj.Age)
}

func printMethods(t reflect.Type) {
	for i := 0; i < t.NumMethod(); i++ {
		method := t.Method(i)
		fmt.Printf("%s: %v\n", method.Name, method.Type)
	}
}

func main() {
	cat := Cat{Name: "Whiskers", Age: 5}
	t := reflect.TypeOf(cat)
	fmt.Println("Cat methods:")
	printMethods(t)

	// ğŸ”¥ï¼šæ³¨æ„è¿™æ¡è¯­å¥å’Œä¸Šé¢è¯­å¥çš„ä¸åŒä¹‹å¤„ï¼Œä¸€ä¸ªéå¼•ç”¨ï¼Œä¸€ä¸ªå¼•ç”¨
	tp := reflect.TypeOf(&cat)
	fmt.Println("*Cat methods:")
	printMethods(tp)
}
```

è¿™æ®µä»£ç å°†æ‰“å° `Cat` ç±»å‹å’Œ `*Cat` ç±»å‹çš„æ‰€æœ‰æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`ShowName` æ–¹æ³•å®šä¹‰åœ¨ `*Cat` ä¸Šï¼Œè€Œ `ShowAge` å®šä¹‰åœ¨ `Cat` ä¸Šï¼Œæ‰€ä»¥å®ƒä»¬ä¼šåœ¨ä¸åŒçš„ç±»å‹æ£€æŸ¥ä¸­è¢«æ‰“å°å‡ºæ¥ã€‚

æ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼š

```go
ğŸ”¥---------------------------æ‰“å°ç»“æ„ä½“æŒ‡é’ˆæ‰€æœ‰æ–¹æ³•-------------------------
Field Name: ShowAge, Field Type: func(*fairy.Cat)
Field Name: ShowName, Field Type: func(*fairy.Cat)
```

å½“é€šè¿‡åå°„æ‰“å°ç»“æ„ä½“æŒ‡é’ˆçš„æ‰€æœ‰æ–¹æ³•æ—¶ï¼Œæ˜¾ç¤ºçš„ç»“æœä¸­æ–¹æ³•çš„ç±»å‹è¡¨æ˜è¿™äº›æ–¹æ³•éƒ½æ˜¯å¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆè°ƒç”¨çš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨ Go è¯­è¨€ä¸­ï¼Œç»“æ„ä½“æŒ‡é’ˆï¼ˆå¦‚ *Catï¼‰å¯ä»¥è°ƒç”¨ç»‘å®šåˆ°ç»“æ„ä½“æŒ‡é’ˆå’Œç»“æ„ä½“å®ä¾‹ï¼ˆCatï¼‰ä¸Šçš„æ‰€æœ‰æ–¹æ³•ã€‚å› æ­¤ï¼Œæ— è®ºæ–¹æ³•æ˜¯å®šä¹‰ä¸ºæ¥æ”¶è€…ä¸ºå€¼ç±»å‹è¿˜æ˜¯æŒ‡é’ˆç±»å‹ï¼Œé€šè¿‡ç»“æ„ä½“æŒ‡é’ˆåå°„æ—¶éƒ½èƒ½è®¿é—®åˆ°è¿™äº›æ–¹æ³•ã€‚æ‰€ä»¥ï¼ŒShowAge å’Œ ShowName æ–¹æ³•éƒ½ä¼šè¢«åˆ—å‡ºï¼Œå¹¶ä¸”å®ƒä»¬çš„ç±»å‹éƒ½è¡¨æ˜è¿™äº›æ–¹æ³•æœŸæœ›çš„æ¥æ”¶è€…æ˜¯ç»“æ„ä½“æŒ‡é’ˆï¼ˆ*fairy.Catï¼‰ã€‚
